(function(){var __webpack_modules__={126:function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var bs_stepper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(82);\n/* harmony import */ var bs_stepper__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bs_stepper__WEBPACK_IMPORTED_MODULE_0__);\n\nwindow.addEventListener(\"load\", function () {\n  let previousStepBtn = document.querySelector('#previous-step-btn');\n  let nextStepBtn = document.querySelector('#next-step-btn');\n  let stepper = new (bs_stepper__WEBPACK_IMPORTED_MODULE_0___default())(document.querySelector('.bs-stepper'));\n  ;\n  previousStepBtn.addEventListener('click', function () {\n    stepper.previous();\n  });\n  nextStepBtn.addEventListener('click', function () {\n    stepper.next();\n  });\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTI2LmpzIiwibWFwcGluZ3MiOiI7O0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYXJlZXItZ3VpZGFuY2UvLi9zcmMvanMvaW5kZXguanM/N2JhNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3RlcHBlciBmcm9tICdicy1zdGVwcGVyJztcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcclxuICAgIGxldCBwcmV2aW91c1N0ZXBCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJldmlvdXMtc3RlcC1idG4nKTtcclxuICAgIGxldCBuZXh0U3RlcEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXh0LXN0ZXAtYnRuJyk7XHJcbiAgICBsZXQgc3RlcHBlciA9IG5ldyBTdGVwcGVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5icy1zdGVwcGVyJykpOztcclxuXHJcblxyXG4gICAgcHJldmlvdXNTdGVwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN0ZXBwZXIucHJldmlvdXMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIG5leHRTdGVwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN0ZXBwZXIubmV4dCgpO1xyXG4gICAgfSk7XHJcblxyXG59KTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///126\n")},82:function(module){eval("/*!\n * bsStepper v1.7.0 (https://github.com/Johann-S/bs-stepper)\n * Copyright 2018 - 2019 Johann-S <johann.servoire@gmail.com>\n * Licensed under MIT (https://github.com/Johann-S/bs-stepper/blob/master/LICENSE)\n */\n(function (global, factory) {\n   true ? module.exports = factory() :\n  0;\n}(this, function () { 'use strict';\n\n  function _extends() {\n    _extends = Object.assign || function (target) {\n      for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i];\n\n        for (var key in source) {\n          if (Object.prototype.hasOwnProperty.call(source, key)) {\n            target[key] = source[key];\n          }\n        }\n      }\n\n      return target;\n    };\n\n    return _extends.apply(this, arguments);\n  }\n\n  var matches = window.Element.prototype.matches;\n\n  var closest = function closest(element, selector) {\n    return element.closest(selector);\n  };\n\n  var WinEvent = function WinEvent(inType, params) {\n    return new window.Event(inType, params);\n  };\n\n  var createCustomEvent = function createCustomEvent(eventName, params) {\n    var cEvent = new window.CustomEvent(eventName, params);\n    return cEvent;\n  };\n  /* istanbul ignore next */\n\n\n  function polyfill() {\n    if (!window.Element.prototype.matches) {\n      matches = window.Element.prototype.msMatchesSelector || window.Element.prototype.webkitMatchesSelector;\n    }\n\n    if (!window.Element.prototype.closest) {\n      closest = function closest(element, selector) {\n        if (!document.documentElement.contains(element)) {\n          return null;\n        }\n\n        do {\n          if (matches.call(element, selector)) {\n            return element;\n          }\n\n          element = element.parentElement || element.parentNode;\n        } while (element !== null && element.nodeType === 1);\n\n        return null;\n      };\n    }\n\n    if (!window.Event || typeof window.Event !== 'function') {\n      WinEvent = function WinEvent(inType, params) {\n        params = params || {};\n        var e = document.createEvent('Event');\n        e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n        return e;\n      };\n    }\n\n    if (typeof window.CustomEvent !== 'function') {\n      var originPreventDefault = window.Event.prototype.preventDefault;\n\n      createCustomEvent = function createCustomEvent(eventName, params) {\n        var evt = document.createEvent('CustomEvent');\n        params = params || {\n          bubbles: false,\n          cancelable: false,\n          detail: null\n        };\n        evt.initCustomEvent(eventName, params.bubbles, params.cancelable, params.detail);\n\n        evt.preventDefault = function () {\n          if (!this.cancelable) {\n            return;\n          }\n\n          originPreventDefault.call(this);\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function get() {\n              return true;\n            }\n          });\n        };\n\n        return evt;\n      };\n    }\n  }\n\n  polyfill();\n\n  var MILLISECONDS_MULTIPLIER = 1000;\n  var ClassName = {\n    ACTIVE: 'active',\n    LINEAR: 'linear',\n    BLOCK: 'dstepper-block',\n    NONE: 'dstepper-none',\n    FADE: 'fade',\n    VERTICAL: 'vertical'\n  };\n  var transitionEndEvent = 'transitionend';\n  var customProperty = 'bsStepper';\n\n  var show = function show(stepperNode, indexStep, options, done) {\n    var stepper = stepperNode[customProperty];\n\n    if (stepper._steps[indexStep].classList.contains(ClassName.ACTIVE) || stepper._stepsContents[indexStep].classList.contains(ClassName.ACTIVE)) {\n      return;\n    }\n\n    var showEvent = createCustomEvent('show.bs-stepper', {\n      cancelable: true,\n      detail: {\n        from: stepper._currentIndex,\n        to: indexStep,\n        indexStep: indexStep\n      }\n    });\n    stepperNode.dispatchEvent(showEvent);\n\n    var activeStep = stepper._steps.filter(function (step) {\n      return step.classList.contains(ClassName.ACTIVE);\n    });\n\n    var activeContent = stepper._stepsContents.filter(function (content) {\n      return content.classList.contains(ClassName.ACTIVE);\n    });\n\n    if (showEvent.defaultPrevented) {\n      return;\n    }\n\n    if (activeStep.length) {\n      activeStep[0].classList.remove(ClassName.ACTIVE);\n    }\n\n    if (activeContent.length) {\n      activeContent[0].classList.remove(ClassName.ACTIVE);\n\n      if (!stepperNode.classList.contains(ClassName.VERTICAL) && !stepper.options.animation) {\n        activeContent[0].classList.remove(ClassName.BLOCK);\n      }\n    }\n\n    showStep(stepperNode, stepper._steps[indexStep], stepper._steps, options);\n    showContent(stepperNode, stepper._stepsContents[indexStep], stepper._stepsContents, activeContent, done);\n  };\n\n  var showStep = function showStep(stepperNode, step, stepList, options) {\n    stepList.forEach(function (step) {\n      var trigger = step.querySelector(options.selectors.trigger);\n      trigger.setAttribute('aria-selected', 'false'); // if stepper is in linear mode, set disabled attribute on the trigger\n\n      if (stepperNode.classList.contains(ClassName.LINEAR)) {\n        trigger.setAttribute('disabled', 'disabled');\n      }\n    });\n    step.classList.add(ClassName.ACTIVE);\n    var currentTrigger = step.querySelector(options.selectors.trigger);\n    currentTrigger.setAttribute('aria-selected', 'true'); // if stepper is in linear mode, remove disabled attribute on current\n\n    if (stepperNode.classList.contains(ClassName.LINEAR)) {\n      currentTrigger.removeAttribute('disabled');\n    }\n  };\n\n  var showContent = function showContent(stepperNode, content, contentList, activeContent, done) {\n    var stepper = stepperNode[customProperty];\n    var toIndex = contentList.indexOf(content);\n    var shownEvent = createCustomEvent('shown.bs-stepper', {\n      cancelable: true,\n      detail: {\n        from: stepper._currentIndex,\n        to: toIndex,\n        indexStep: toIndex\n      }\n    });\n\n    function complete() {\n      content.classList.add(ClassName.BLOCK);\n      content.removeEventListener(transitionEndEvent, complete);\n      stepperNode.dispatchEvent(shownEvent);\n      done();\n    }\n\n    if (content.classList.contains(ClassName.FADE)) {\n      content.classList.remove(ClassName.NONE);\n      var duration = getTransitionDurationFromElement(content);\n      content.addEventListener(transitionEndEvent, complete);\n\n      if (activeContent.length) {\n        activeContent[0].classList.add(ClassName.NONE);\n      }\n\n      content.classList.add(ClassName.ACTIVE);\n      emulateTransitionEnd(content, duration);\n    } else {\n      content.classList.add(ClassName.ACTIVE);\n      content.classList.add(ClassName.BLOCK);\n      stepperNode.dispatchEvent(shownEvent);\n      done();\n    }\n  };\n\n  var getTransitionDurationFromElement = function getTransitionDurationFromElement(element) {\n    if (!element) {\n      return 0;\n    } // Get transition-duration of the element\n\n\n    var transitionDuration = window.getComputedStyle(element).transitionDuration;\n    var floatTransitionDuration = parseFloat(transitionDuration); // Return 0 if element or transition duration is not found\n\n    if (!floatTransitionDuration) {\n      return 0;\n    } // If multiple durations are defined, take the first\n\n\n    transitionDuration = transitionDuration.split(',')[0];\n    return parseFloat(transitionDuration) * MILLISECONDS_MULTIPLIER;\n  };\n\n  var emulateTransitionEnd = function emulateTransitionEnd(element, duration) {\n    var called = false;\n    var durationPadding = 5;\n    var emulatedDuration = duration + durationPadding;\n\n    function listener() {\n      called = true;\n      element.removeEventListener(transitionEndEvent, listener);\n    }\n\n    element.addEventListener(transitionEndEvent, listener);\n    window.setTimeout(function () {\n      if (!called) {\n        element.dispatchEvent(WinEvent(transitionEndEvent));\n      }\n\n      element.removeEventListener(transitionEndEvent, listener);\n    }, emulatedDuration);\n  };\n\n  var detectAnimation = function detectAnimation(contentList, options) {\n    if (options.animation) {\n      contentList.forEach(function (content) {\n        content.classList.add(ClassName.FADE);\n        content.classList.add(ClassName.NONE);\n      });\n    }\n  };\n\n  var buildClickStepLinearListener = function buildClickStepLinearListener() {\n    return function clickStepLinearListener(event) {\n      event.preventDefault();\n    };\n  };\n\n  var buildClickStepNonLinearListener = function buildClickStepNonLinearListener(options) {\n    return function clickStepNonLinearListener(event) {\n      event.preventDefault();\n      var step = closest(event.target, options.selectors.steps);\n      var stepperNode = closest(step, options.selectors.stepper);\n      var stepper = stepperNode[customProperty];\n\n      var stepIndex = stepper._steps.indexOf(step);\n\n      show(stepperNode, stepIndex, options, function () {\n        stepper._currentIndex = stepIndex;\n      });\n    };\n  };\n\n  var DEFAULT_OPTIONS = {\n    linear: true,\n    animation: false,\n    selectors: {\n      steps: '.step',\n      trigger: '.step-trigger',\n      stepper: '.bs-stepper'\n    }\n  };\n\n  var Stepper =\n  /*#__PURE__*/\n  function () {\n    function Stepper(element, _options) {\n      var _this = this;\n\n      if (_options === void 0) {\n        _options = {};\n      }\n\n      this._element = element;\n      this._currentIndex = 0;\n      this._stepsContents = [];\n      this.options = _extends({}, DEFAULT_OPTIONS, {}, _options);\n      this.options.selectors = _extends({}, DEFAULT_OPTIONS.selectors, {}, this.options.selectors);\n\n      if (this.options.linear) {\n        this._element.classList.add(ClassName.LINEAR);\n      }\n\n      this._steps = [].slice.call(this._element.querySelectorAll(this.options.selectors.steps));\n\n      this._steps.filter(function (step) {\n        return step.hasAttribute('data-target');\n      }).forEach(function (step) {\n        _this._stepsContents.push(_this._element.querySelector(step.getAttribute('data-target')));\n      });\n\n      detectAnimation(this._stepsContents, this.options);\n\n      this._setLinkListeners();\n\n      Object.defineProperty(this._element, customProperty, {\n        value: this,\n        writable: true\n      });\n\n      if (this._steps.length) {\n        show(this._element, this._currentIndex, this.options, function () {});\n      }\n    } // Private\n\n\n    var _proto = Stepper.prototype;\n\n    _proto._setLinkListeners = function _setLinkListeners() {\n      var _this2 = this;\n\n      this._steps.forEach(function (step) {\n        var trigger = step.querySelector(_this2.options.selectors.trigger);\n\n        if (_this2.options.linear) {\n          _this2._clickStepLinearListener = buildClickStepLinearListener(_this2.options);\n          trigger.addEventListener('click', _this2._clickStepLinearListener);\n        } else {\n          _this2._clickStepNonLinearListener = buildClickStepNonLinearListener(_this2.options);\n          trigger.addEventListener('click', _this2._clickStepNonLinearListener);\n        }\n      });\n    } // Public\n    ;\n\n    _proto.next = function next() {\n      var _this3 = this;\n\n      var nextStep = this._currentIndex + 1 <= this._steps.length - 1 ? this._currentIndex + 1 : this._steps.length - 1;\n      show(this._element, nextStep, this.options, function () {\n        _this3._currentIndex = nextStep;\n      });\n    };\n\n    _proto.previous = function previous() {\n      var _this4 = this;\n\n      var previousStep = this._currentIndex - 1 >= 0 ? this._currentIndex - 1 : 0;\n      show(this._element, previousStep, this.options, function () {\n        _this4._currentIndex = previousStep;\n      });\n    };\n\n    _proto.to = function to(stepNumber) {\n      var _this5 = this;\n\n      var tempIndex = stepNumber - 1;\n      var nextStep = tempIndex >= 0 && tempIndex < this._steps.length ? tempIndex : 0;\n      show(this._element, nextStep, this.options, function () {\n        _this5._currentIndex = nextStep;\n      });\n    };\n\n    _proto.reset = function reset() {\n      var _this6 = this;\n\n      show(this._element, 0, this.options, function () {\n        _this6._currentIndex = 0;\n      });\n    };\n\n    _proto.destroy = function destroy() {\n      var _this7 = this;\n\n      this._steps.forEach(function (step) {\n        var trigger = step.querySelector(_this7.options.selectors.trigger);\n\n        if (_this7.options.linear) {\n          trigger.removeEventListener('click', _this7._clickStepLinearListener);\n        } else {\n          trigger.removeEventListener('click', _this7._clickStepNonLinearListener);\n        }\n      });\n\n      this._element[customProperty] = undefined;\n      this._element = undefined;\n      this._currentIndex = undefined;\n      this._steps = undefined;\n      this._stepsContents = undefined;\n      this._clickStepLinearListener = undefined;\n      this._clickStepNonLinearListener = undefined;\n    };\n\n    return Stepper;\n  }();\n\n  return Stepper;\n\n}));\n//# sourceMappingURL=bs-stepper.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODIuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jYXJlZXItZ3VpZGFuY2UvLi9ub2RlX21vZHVsZXMvYnMtc3RlcHBlci9kaXN0L2pzL2JzLXN0ZXBwZXIuanM/MDU4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIGJzU3RlcHBlciB2MS43LjAgKGh0dHBzOi8vZ2l0aHViLmNvbS9Kb2hhbm4tUy9icy1zdGVwcGVyKVxuICogQ29weXJpZ2h0IDIwMTggLSAyMDE5IEpvaGFubi1TIDxqb2hhbm4uc2Vydm9pcmVAZ21haWwuY29tPlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vSm9oYW5uLVMvYnMtc3RlcHBlci9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICovXG4oZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgPyBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKSA6XG4gIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCA/IGRlZmluZShmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZ2xvYmFsLlN0ZXBwZXIgPSBmYWN0b3J5KCkpO1xufSh0aGlzLCBmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICBmdW5jdGlvbiBfZXh0ZW5kcygpIHtcbiAgICBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfTtcblxuICAgIHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgdmFyIG1hdGNoZXMgPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcztcblxuICB2YXIgY2xvc2VzdCA9IGZ1bmN0aW9uIGNsb3Nlc3QoZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgICByZXR1cm4gZWxlbWVudC5jbG9zZXN0KHNlbGVjdG9yKTtcbiAgfTtcblxuICB2YXIgV2luRXZlbnQgPSBmdW5jdGlvbiBXaW5FdmVudChpblR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgd2luZG93LkV2ZW50KGluVHlwZSwgcGFyYW1zKTtcbiAgfTtcblxuICB2YXIgY3JlYXRlQ3VzdG9tRXZlbnQgPSBmdW5jdGlvbiBjcmVhdGVDdXN0b21FdmVudChldmVudE5hbWUsIHBhcmFtcykge1xuICAgIHZhciBjRXZlbnQgPSBuZXcgd2luZG93LkN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgcGFyYW1zKTtcbiAgICByZXR1cm4gY0V2ZW50O1xuICB9O1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuXG5cbiAgZnVuY3Rpb24gcG9seWZpbGwoKSB7XG4gICAgaWYgKCF3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgICAgbWF0Y2hlcyA9IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3RvciB8fCB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuICAgIH1cblxuICAgIGlmICghd2luZG93LkVsZW1lbnQucHJvdG90eXBlLmNsb3Nlc3QpIHtcbiAgICAgIGNsb3Nlc3QgPSBmdW5jdGlvbiBjbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGVsZW1lbnQpKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBkbyB7XG4gICAgICAgICAgaWYgKG1hdGNoZXMuY2FsbChlbGVtZW50LCBzZWxlY3RvcikpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQgfHwgZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgICB9IHdoaWxlIChlbGVtZW50ICE9PSBudWxsICYmIGVsZW1lbnQubm9kZVR5cGUgPT09IDEpO1xuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy5FdmVudCB8fCB0eXBlb2Ygd2luZG93LkV2ZW50ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBXaW5FdmVudCA9IGZ1bmN0aW9uIFdpbkV2ZW50KGluVHlwZSwgcGFyYW1zKSB7XG4gICAgICAgIHBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcbiAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgZS5pbml0RXZlbnQoaW5UeXBlLCBCb29sZWFuKHBhcmFtcy5idWJibGVzKSwgQm9vbGVhbihwYXJhbXMuY2FuY2VsYWJsZSkpO1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHZhciBvcmlnaW5QcmV2ZW50RGVmYXVsdCA9IHdpbmRvdy5FdmVudC5wcm90b3R5cGUucHJldmVudERlZmF1bHQ7XG5cbiAgICAgIGNyZWF0ZUN1c3RvbUV2ZW50ID0gZnVuY3Rpb24gY3JlYXRlQ3VzdG9tRXZlbnQoZXZlbnROYW1lLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgICAgICBwYXJhbXMgPSBwYXJhbXMgfHwge1xuICAgICAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgICAgIGNhbmNlbGFibGU6IGZhbHNlLFxuICAgICAgICAgIGRldGFpbDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KGV2ZW50TmFtZSwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsKTtcblxuICAgICAgICBldnQucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCF0aGlzLmNhbmNlbGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBvcmlnaW5QcmV2ZW50RGVmYXVsdC5jYWxsKHRoaXMpO1xuICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnZGVmYXVsdFByZXZlbnRlZCcsIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZXZ0O1xuICAgICAgfTtcbiAgICB9XG4gIH1cblxuICBwb2x5ZmlsbCgpO1xuXG4gIHZhciBNSUxMSVNFQ09ORFNfTVVMVElQTElFUiA9IDEwMDA7XG4gIHZhciBDbGFzc05hbWUgPSB7XG4gICAgQUNUSVZFOiAnYWN0aXZlJyxcbiAgICBMSU5FQVI6ICdsaW5lYXInLFxuICAgIEJMT0NLOiAnZHN0ZXBwZXItYmxvY2snLFxuICAgIE5PTkU6ICdkc3RlcHBlci1ub25lJyxcbiAgICBGQURFOiAnZmFkZScsXG4gICAgVkVSVElDQUw6ICd2ZXJ0aWNhbCdcbiAgfTtcbiAgdmFyIHRyYW5zaXRpb25FbmRFdmVudCA9ICd0cmFuc2l0aW9uZW5kJztcbiAgdmFyIGN1c3RvbVByb3BlcnR5ID0gJ2JzU3RlcHBlcic7XG5cbiAgdmFyIHNob3cgPSBmdW5jdGlvbiBzaG93KHN0ZXBwZXJOb2RlLCBpbmRleFN0ZXAsIG9wdGlvbnMsIGRvbmUpIHtcbiAgICB2YXIgc3RlcHBlciA9IHN0ZXBwZXJOb2RlW2N1c3RvbVByb3BlcnR5XTtcblxuICAgIGlmIChzdGVwcGVyLl9zdGVwc1tpbmRleFN0ZXBdLmNsYXNzTGlzdC5jb250YWlucyhDbGFzc05hbWUuQUNUSVZFKSB8fCBzdGVwcGVyLl9zdGVwc0NvbnRlbnRzW2luZGV4U3RlcF0uY2xhc3NMaXN0LmNvbnRhaW5zKENsYXNzTmFtZS5BQ1RJVkUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHNob3dFdmVudCA9IGNyZWF0ZUN1c3RvbUV2ZW50KCdzaG93LmJzLXN0ZXBwZXInLCB7XG4gICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIGZyb206IHN0ZXBwZXIuX2N1cnJlbnRJbmRleCxcbiAgICAgICAgdG86IGluZGV4U3RlcCxcbiAgICAgICAgaW5kZXhTdGVwOiBpbmRleFN0ZXBcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzdGVwcGVyTm9kZS5kaXNwYXRjaEV2ZW50KHNob3dFdmVudCk7XG5cbiAgICB2YXIgYWN0aXZlU3RlcCA9IHN0ZXBwZXIuX3N0ZXBzLmZpbHRlcihmdW5jdGlvbiAoc3RlcCkge1xuICAgICAgcmV0dXJuIHN0ZXAuY2xhc3NMaXN0LmNvbnRhaW5zKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgIH0pO1xuXG4gICAgdmFyIGFjdGl2ZUNvbnRlbnQgPSBzdGVwcGVyLl9zdGVwc0NvbnRlbnRzLmZpbHRlcihmdW5jdGlvbiAoY29udGVudCkge1xuICAgICAgcmV0dXJuIGNvbnRlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKENsYXNzTmFtZS5BQ1RJVkUpO1xuICAgIH0pO1xuXG4gICAgaWYgKHNob3dFdmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZVN0ZXAubGVuZ3RoKSB7XG4gICAgICBhY3RpdmVTdGVwWzBdLmNsYXNzTGlzdC5yZW1vdmUoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgfVxuXG4gICAgaWYgKGFjdGl2ZUNvbnRlbnQubGVuZ3RoKSB7XG4gICAgICBhY3RpdmVDb250ZW50WzBdLmNsYXNzTGlzdC5yZW1vdmUoQ2xhc3NOYW1lLkFDVElWRSk7XG5cbiAgICAgIGlmICghc3RlcHBlck5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKENsYXNzTmFtZS5WRVJUSUNBTCkgJiYgIXN0ZXBwZXIub3B0aW9ucy5hbmltYXRpb24pIHtcbiAgICAgICAgYWN0aXZlQ29udGVudFswXS5jbGFzc0xpc3QucmVtb3ZlKENsYXNzTmFtZS5CTE9DSyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc2hvd1N0ZXAoc3RlcHBlck5vZGUsIHN0ZXBwZXIuX3N0ZXBzW2luZGV4U3RlcF0sIHN0ZXBwZXIuX3N0ZXBzLCBvcHRpb25zKTtcbiAgICBzaG93Q29udGVudChzdGVwcGVyTm9kZSwgc3RlcHBlci5fc3RlcHNDb250ZW50c1tpbmRleFN0ZXBdLCBzdGVwcGVyLl9zdGVwc0NvbnRlbnRzLCBhY3RpdmVDb250ZW50LCBkb25lKTtcbiAgfTtcblxuICB2YXIgc2hvd1N0ZXAgPSBmdW5jdGlvbiBzaG93U3RlcChzdGVwcGVyTm9kZSwgc3RlcCwgc3RlcExpc3QsIG9wdGlvbnMpIHtcbiAgICBzdGVwTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwKSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IHN0ZXAucXVlcnlTZWxlY3RvcihvcHRpb25zLnNlbGVjdG9ycy50cmlnZ2VyKTtcbiAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLXNlbGVjdGVkJywgJ2ZhbHNlJyk7IC8vIGlmIHN0ZXBwZXIgaXMgaW4gbGluZWFyIG1vZGUsIHNldCBkaXNhYmxlZCBhdHRyaWJ1dGUgb24gdGhlIHRyaWdnZXJcblxuICAgICAgaWYgKHN0ZXBwZXJOb2RlLmNsYXNzTGlzdC5jb250YWlucyhDbGFzc05hbWUuTElORUFSKSkge1xuICAgICAgICB0cmlnZ2VyLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzdGVwLmNsYXNzTGlzdC5hZGQoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgdmFyIGN1cnJlbnRUcmlnZ2VyID0gc3RlcC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMuc2VsZWN0b3JzLnRyaWdnZXIpO1xuICAgIGN1cnJlbnRUcmlnZ2VyLnNldEF0dHJpYnV0ZSgnYXJpYS1zZWxlY3RlZCcsICd0cnVlJyk7IC8vIGlmIHN0ZXBwZXIgaXMgaW4gbGluZWFyIG1vZGUsIHJlbW92ZSBkaXNhYmxlZCBhdHRyaWJ1dGUgb24gY3VycmVudFxuXG4gICAgaWYgKHN0ZXBwZXJOb2RlLmNsYXNzTGlzdC5jb250YWlucyhDbGFzc05hbWUuTElORUFSKSkge1xuICAgICAgY3VycmVudFRyaWdnZXIucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgc2hvd0NvbnRlbnQgPSBmdW5jdGlvbiBzaG93Q29udGVudChzdGVwcGVyTm9kZSwgY29udGVudCwgY29udGVudExpc3QsIGFjdGl2ZUNvbnRlbnQsIGRvbmUpIHtcbiAgICB2YXIgc3RlcHBlciA9IHN0ZXBwZXJOb2RlW2N1c3RvbVByb3BlcnR5XTtcbiAgICB2YXIgdG9JbmRleCA9IGNvbnRlbnRMaXN0LmluZGV4T2YoY29udGVudCk7XG4gICAgdmFyIHNob3duRXZlbnQgPSBjcmVhdGVDdXN0b21FdmVudCgnc2hvd24uYnMtc3RlcHBlcicsIHtcbiAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgZnJvbTogc3RlcHBlci5fY3VycmVudEluZGV4LFxuICAgICAgICB0bzogdG9JbmRleCxcbiAgICAgICAgaW5kZXhTdGVwOiB0b0luZGV4XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDbGFzc05hbWUuQkxPQ0spO1xuICAgICAgY29udGVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmRFdmVudCwgY29tcGxldGUpO1xuICAgICAgc3RlcHBlck5vZGUuZGlzcGF0Y2hFdmVudChzaG93bkV2ZW50KTtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG5cbiAgICBpZiAoY29udGVudC5jbGFzc0xpc3QuY29udGFpbnMoQ2xhc3NOYW1lLkZBREUpKSB7XG4gICAgICBjb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoQ2xhc3NOYW1lLk5PTkUpO1xuICAgICAgdmFyIGR1cmF0aW9uID0gZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQoY29udGVudCk7XG4gICAgICBjb250ZW50LmFkZEV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZEV2ZW50LCBjb21wbGV0ZSk7XG5cbiAgICAgIGlmIChhY3RpdmVDb250ZW50Lmxlbmd0aCkge1xuICAgICAgICBhY3RpdmVDb250ZW50WzBdLmNsYXNzTGlzdC5hZGQoQ2xhc3NOYW1lLk5PTkUpO1xuICAgICAgfVxuXG4gICAgICBjb250ZW50LmNsYXNzTGlzdC5hZGQoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICBlbXVsYXRlVHJhbnNpdGlvbkVuZChjb250ZW50LCBkdXJhdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDbGFzc05hbWUuQkxPQ0spO1xuICAgICAgc3RlcHBlck5vZGUuZGlzcGF0Y2hFdmVudChzaG93bkV2ZW50KTtcbiAgICAgIGRvbmUoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50ID0gZnVuY3Rpb24gZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQoZWxlbWVudCkge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSAvLyBHZXQgdHJhbnNpdGlvbi1kdXJhdGlvbiBvZiB0aGUgZWxlbWVudFxuXG5cbiAgICB2YXIgdHJhbnNpdGlvbkR1cmF0aW9uID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkudHJhbnNpdGlvbkR1cmF0aW9uO1xuICAgIHZhciBmbG9hdFRyYW5zaXRpb25EdXJhdGlvbiA9IHBhcnNlRmxvYXQodHJhbnNpdGlvbkR1cmF0aW9uKTsgLy8gUmV0dXJuIDAgaWYgZWxlbWVudCBvciB0cmFuc2l0aW9uIGR1cmF0aW9uIGlzIG5vdCBmb3VuZFxuXG4gICAgaWYgKCFmbG9hdFRyYW5zaXRpb25EdXJhdGlvbikge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfSAvLyBJZiBtdWx0aXBsZSBkdXJhdGlvbnMgYXJlIGRlZmluZWQsIHRha2UgdGhlIGZpcnN0XG5cblxuICAgIHRyYW5zaXRpb25EdXJhdGlvbiA9IHRyYW5zaXRpb25EdXJhdGlvbi5zcGxpdCgnLCcpWzBdO1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHRyYW5zaXRpb25EdXJhdGlvbikgKiBNSUxMSVNFQ09ORFNfTVVMVElQTElFUjtcbiAgfTtcblxuICB2YXIgZW11bGF0ZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiBlbXVsYXRlVHJhbnNpdGlvbkVuZChlbGVtZW50LCBkdXJhdGlvbikge1xuICAgIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgICB2YXIgZHVyYXRpb25QYWRkaW5nID0gNTtcbiAgICB2YXIgZW11bGF0ZWREdXJhdGlvbiA9IGR1cmF0aW9uICsgZHVyYXRpb25QYWRkaW5nO1xuXG4gICAgZnVuY3Rpb24gbGlzdGVuZXIoKSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmRFdmVudCwgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kRXZlbnQsIGxpc3RlbmVyKTtcbiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoV2luRXZlbnQodHJhbnNpdGlvbkVuZEV2ZW50KSk7XG4gICAgICB9XG5cbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0cmFuc2l0aW9uRW5kRXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9LCBlbXVsYXRlZER1cmF0aW9uKTtcbiAgfTtcblxuICB2YXIgZGV0ZWN0QW5pbWF0aW9uID0gZnVuY3Rpb24gZGV0ZWN0QW5pbWF0aW9uKGNvbnRlbnRMaXN0LCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuYW5pbWF0aW9uKSB7XG4gICAgICBjb250ZW50TGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChjb250ZW50KSB7XG4gICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDbGFzc05hbWUuRkFERSk7XG4gICAgICAgIGNvbnRlbnQuY2xhc3NMaXN0LmFkZChDbGFzc05hbWUuTk9ORSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGJ1aWxkQ2xpY2tTdGVwTGluZWFyTGlzdGVuZXIgPSBmdW5jdGlvbiBidWlsZENsaWNrU3RlcExpbmVhckxpc3RlbmVyKCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBjbGlja1N0ZXBMaW5lYXJMaXN0ZW5lcihldmVudCkge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBidWlsZENsaWNrU3RlcE5vbkxpbmVhckxpc3RlbmVyID0gZnVuY3Rpb24gYnVpbGRDbGlja1N0ZXBOb25MaW5lYXJMaXN0ZW5lcihvcHRpb25zKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNsaWNrU3RlcE5vbkxpbmVhckxpc3RlbmVyKGV2ZW50KSB7XG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIHN0ZXAgPSBjbG9zZXN0KGV2ZW50LnRhcmdldCwgb3B0aW9ucy5zZWxlY3RvcnMuc3RlcHMpO1xuICAgICAgdmFyIHN0ZXBwZXJOb2RlID0gY2xvc2VzdChzdGVwLCBvcHRpb25zLnNlbGVjdG9ycy5zdGVwcGVyKTtcbiAgICAgIHZhciBzdGVwcGVyID0gc3RlcHBlck5vZGVbY3VzdG9tUHJvcGVydHldO1xuXG4gICAgICB2YXIgc3RlcEluZGV4ID0gc3RlcHBlci5fc3RlcHMuaW5kZXhPZihzdGVwKTtcblxuICAgICAgc2hvdyhzdGVwcGVyTm9kZSwgc3RlcEluZGV4LCBvcHRpb25zLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0ZXBwZXIuX2N1cnJlbnRJbmRleCA9IHN0ZXBJbmRleDtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIERFRkFVTFRfT1BUSU9OUyA9IHtcbiAgICBsaW5lYXI6IHRydWUsXG4gICAgYW5pbWF0aW9uOiBmYWxzZSxcbiAgICBzZWxlY3RvcnM6IHtcbiAgICAgIHN0ZXBzOiAnLnN0ZXAnLFxuICAgICAgdHJpZ2dlcjogJy5zdGVwLXRyaWdnZXInLFxuICAgICAgc3RlcHBlcjogJy5icy1zdGVwcGVyJ1xuICAgIH1cbiAgfTtcblxuICB2YXIgU3RlcHBlciA9XG4gIC8qI19fUFVSRV9fKi9cbiAgZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0ZXBwZXIoZWxlbWVudCwgX29wdGlvbnMpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmIChfb3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIF9vcHRpb25zID0ge307XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgdGhpcy5fY3VycmVudEluZGV4ID0gMDtcbiAgICAgIHRoaXMuX3N0ZXBzQ29udGVudHMgPSBbXTtcbiAgICAgIHRoaXMub3B0aW9ucyA9IF9leHRlbmRzKHt9LCBERUZBVUxUX09QVElPTlMsIHt9LCBfb3B0aW9ucyk7XG4gICAgICB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzID0gX2V4dGVuZHMoe30sIERFRkFVTFRfT1BUSU9OUy5zZWxlY3RvcnMsIHt9LCB0aGlzLm9wdGlvbnMuc2VsZWN0b3JzKTtcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5saW5lYXIpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudC5jbGFzc0xpc3QuYWRkKENsYXNzTmFtZS5MSU5FQVIpO1xuICAgICAgfVxuXG4gICAgICB0aGlzLl9zdGVwcyA9IFtdLnNsaWNlLmNhbGwodGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMub3B0aW9ucy5zZWxlY3RvcnMuc3RlcHMpKTtcblxuICAgICAgdGhpcy5fc3RlcHMuZmlsdGVyKGZ1bmN0aW9uIChzdGVwKSB7XG4gICAgICAgIHJldHVybiBzdGVwLmhhc0F0dHJpYnV0ZSgnZGF0YS10YXJnZXQnKTtcbiAgICAgIH0pLmZvckVhY2goZnVuY3Rpb24gKHN0ZXApIHtcbiAgICAgICAgX3RoaXMuX3N0ZXBzQ29udGVudHMucHVzaChfdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKHN0ZXAuZ2V0QXR0cmlidXRlKCdkYXRhLXRhcmdldCcpKSk7XG4gICAgICB9KTtcblxuICAgICAgZGV0ZWN0QW5pbWF0aW9uKHRoaXMuX3N0ZXBzQ29udGVudHMsIHRoaXMub3B0aW9ucyk7XG5cbiAgICAgIHRoaXMuX3NldExpbmtMaXN0ZW5lcnMoKTtcblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMuX2VsZW1lbnQsIGN1c3RvbVByb3BlcnR5LCB7XG4gICAgICAgIHZhbHVlOiB0aGlzLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIGlmICh0aGlzLl9zdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgc2hvdyh0aGlzLl9lbGVtZW50LCB0aGlzLl9jdXJyZW50SW5kZXgsIHRoaXMub3B0aW9ucywgZnVuY3Rpb24gKCkge30pO1xuICAgICAgfVxuICAgIH0gLy8gUHJpdmF0ZVxuXG5cbiAgICB2YXIgX3Byb3RvID0gU3RlcHBlci5wcm90b3R5cGU7XG5cbiAgICBfcHJvdG8uX3NldExpbmtMaXN0ZW5lcnMgPSBmdW5jdGlvbiBfc2V0TGlua0xpc3RlbmVycygpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLl9zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzdGVwKSB7XG4gICAgICAgIHZhciB0cmlnZ2VyID0gc3RlcC5xdWVyeVNlbGVjdG9yKF90aGlzMi5vcHRpb25zLnNlbGVjdG9ycy50cmlnZ2VyKTtcblxuICAgICAgICBpZiAoX3RoaXMyLm9wdGlvbnMubGluZWFyKSB7XG4gICAgICAgICAgX3RoaXMyLl9jbGlja1N0ZXBMaW5lYXJMaXN0ZW5lciA9IGJ1aWxkQ2xpY2tTdGVwTGluZWFyTGlzdGVuZXIoX3RoaXMyLm9wdGlvbnMpO1xuICAgICAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBfdGhpczIuX2NsaWNrU3RlcExpbmVhckxpc3RlbmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpczIuX2NsaWNrU3RlcE5vbkxpbmVhckxpc3RlbmVyID0gYnVpbGRDbGlja1N0ZXBOb25MaW5lYXJMaXN0ZW5lcihfdGhpczIub3B0aW9ucyk7XG4gICAgICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIF90aGlzMi5fY2xpY2tTdGVwTm9uTGluZWFyTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IC8vIFB1YmxpY1xuICAgIDtcblxuICAgIF9wcm90by5uZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB2YXIgbmV4dFN0ZXAgPSB0aGlzLl9jdXJyZW50SW5kZXggKyAxIDw9IHRoaXMuX3N0ZXBzLmxlbmd0aCAtIDEgPyB0aGlzLl9jdXJyZW50SW5kZXggKyAxIDogdGhpcy5fc3RlcHMubGVuZ3RoIC0gMTtcbiAgICAgIHNob3codGhpcy5fZWxlbWVudCwgbmV4dFN0ZXAsIHRoaXMub3B0aW9ucywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczMuX2N1cnJlbnRJbmRleCA9IG5leHRTdGVwO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIF9wcm90by5wcmV2aW91cyA9IGZ1bmN0aW9uIHByZXZpb3VzKCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIHZhciBwcmV2aW91c1N0ZXAgPSB0aGlzLl9jdXJyZW50SW5kZXggLSAxID49IDAgPyB0aGlzLl9jdXJyZW50SW5kZXggLSAxIDogMDtcbiAgICAgIHNob3codGhpcy5fZWxlbWVudCwgcHJldmlvdXNTdGVwLCB0aGlzLm9wdGlvbnMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0Ll9jdXJyZW50SW5kZXggPSBwcmV2aW91c1N0ZXA7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLnRvID0gZnVuY3Rpb24gdG8oc3RlcE51bWJlcikge1xuICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgIHZhciB0ZW1wSW5kZXggPSBzdGVwTnVtYmVyIC0gMTtcbiAgICAgIHZhciBuZXh0U3RlcCA9IHRlbXBJbmRleCA+PSAwICYmIHRlbXBJbmRleCA8IHRoaXMuX3N0ZXBzLmxlbmd0aCA/IHRlbXBJbmRleCA6IDA7XG4gICAgICBzaG93KHRoaXMuX2VsZW1lbnQsIG5leHRTdGVwLCB0aGlzLm9wdGlvbnMsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM1Ll9jdXJyZW50SW5kZXggPSBuZXh0U3RlcDtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfcHJvdG8ucmVzZXQgPSBmdW5jdGlvbiByZXNldCgpIHtcbiAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICBzaG93KHRoaXMuX2VsZW1lbnQsIDAsIHRoaXMub3B0aW9ucywgZnVuY3Rpb24gKCkge1xuICAgICAgICBfdGhpczYuX2N1cnJlbnRJbmRleCA9IDA7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3Byb3RvLmRlc3Ryb3kgPSBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgIHRoaXMuX3N0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHN0ZXApIHtcbiAgICAgICAgdmFyIHRyaWdnZXIgPSBzdGVwLnF1ZXJ5U2VsZWN0b3IoX3RoaXM3Lm9wdGlvbnMuc2VsZWN0b3JzLnRyaWdnZXIpO1xuXG4gICAgICAgIGlmIChfdGhpczcub3B0aW9ucy5saW5lYXIpIHtcbiAgICAgICAgICB0cmlnZ2VyLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgX3RoaXM3Ll9jbGlja1N0ZXBMaW5lYXJMaXN0ZW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdHJpZ2dlci5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIF90aGlzNy5fY2xpY2tTdGVwTm9uTGluZWFyTGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fZWxlbWVudFtjdXN0b21Qcm9wZXJ0eV0gPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9lbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fY3VycmVudEluZGV4ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fc3RlcHMgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9zdGVwc0NvbnRlbnRzID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5fY2xpY2tTdGVwTGluZWFyTGlzdGVuZXIgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9jbGlja1N0ZXBOb25MaW5lYXJMaXN0ZW5lciA9IHVuZGVmaW5lZDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFN0ZXBwZXI7XG4gIH0oKTtcblxuICByZXR1cm4gU3RlcHBlcjtcblxufSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YnMtc3RlcHBlci5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///82\n")}},__webpack_module_cache__={};function __webpack_require__(n){var t=__webpack_module_cache__[n];if(void 0!==t)return t.exports;var e=__webpack_module_cache__[n]={exports:{}};return __webpack_modules__[n].call(e.exports,e,e.exports,__webpack_require__),e.exports}__webpack_require__.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(n,t){for(var e in t)__webpack_require__.o(t,e)&&!__webpack_require__.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},__webpack_require__.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)};var __webpack_exports__=__webpack_require__(126)})();